import{_ as S,r as a,g as A,i as E,j as G,A as I,e as c,o as n,a as o,h as M,w as u,y,c as d,b as g,t as h,F as b,x as V,v as B,p as C,f as U}from"./app-BAfNYBvE.js";const r=i=>(C("data-v-0729d7f8"),i=i(),U(),i),q={class:"container mx-auto p-4"},D=r(()=>o("h1",{class:"text-2xl font-bold mb-4"},"Assign Rooms to Guest",-1)),O=r(()=>o("label",{for:"admin",class:"block text-sm font-medium text-gray-700"},"Select Guest",-1)),$=["value"],F=r(()=>o("label",{for:"rooms",class:"block text-sm font-medium text-gray-700"},"Select Rooms",-1)),L=["value"],j={class:"form-group"},N=r(()=>o("label",{for:"is_occupied"},"Occupied:",-1)),T=r(()=>o("label",{for:"capacity"},"Capacity:",-1)),z=r(()=>o("button",{type:"submit",class:"w-full bg-blue-500 text-white rounded-md py-2"},"Assign Rooms",-1)),H={__name:"AssignRoom",setup(i){const p=a(null),l=a([]),_=a([]),f=a([]),w=async()=>{try{const t=await c.get("/api/guest");_.value=t.data}catch(t){console.error("Error fetching Guests:",t)}},x=async()=>{try{const t=await c.get("/api/rooms");f.value=t.data}catch(t){console.error("Error fetching rooms:",t)}},k=async()=>{try{await c.post("/api/guest",{user_id:p.value,rooms:l.value}),await R(),console.log(l.value)}catch(t){console.error("Error assigning rooms:",t)}},m=a(!1),v=a(""),R=async()=>{for(const t of l.value)try{const e=(await c.get(`/api/rooms/${t}`)).data;e.is_occupied=m.value,e.capacity=v.value,delete e.image,await c.put(`/api/rooms/${t}`,e)}catch(s){console.error(`Error updating room ${t}:`,s)}};return A(()=>{w(),x()}),(t,s)=>(n(),E(I,null,{default:G(()=>[o("div",q,[D,o("form",{onSubmit:M(k,["prevent"]),class:"space-y-4"},[o("div",null,[O,u(o("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>p.value=e),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"},[(n(!0),d(b,null,g(_.value,e=>(n(),d("option",{value:e.id,key:e.id},h(e.name),9,$))),128))],512),[[y,p.value]])]),o("div",null,[F,u(o("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>l.value=e),multiple:"",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"},[(n(!0),d(b,null,g(f.value,e=>(n(),d("option",{value:e.id,key:e.id},h(e.name),9,L))),128))],512),[[y,l.value]])]),o("div",j,[N,u(o("input",{type:"checkbox",id:"is_occupied","onUpdate:modelValue":s[2]||(s[2]=e=>m.value=e)},null,512),[[V,m.value]])]),o("div",null,[T,u(o("input",{type:"number",id:"capacity","onUpdate:modelValue":s[3]||(s[3]=e=>v.value=e),placeholder:"Capacity",required:""},null,512),[[B,v.value]])]),z],32)])]),_:1}))}},K=S(H,[["__scopeId","data-v-0729d7f8"]]);export{K as default};
