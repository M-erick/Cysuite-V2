import{_ as P,r as i,Q as j,g as L,i as N,j as c,A as U,e as n,o as d,a as e,k as u,l as h,u as p,m,d as C,t as a,c as b,b as x,F as g,p as F,f as T}from"./app-BAfNYBvE.js";const s=_=>(F("data-v-dbc4f38a"),_=_(),T(),_),M={class:"flex flex-col h-screen bg-gray-100",style:{"font-family":"'Roboto Serif', serif","font-style":"normal","font-weight":"400"}},O={class:"flex-1 flex flex-wrap"},Q={class:"p-2 bg-white w-full md:w-60 flex flex-col md:flex",id:"sideNav"},q=s(()=>e("i",{class:"fas fa-home mr-2",style:{color:"#046a5b"}},null,-1)),z=s(()=>e("i",{class:"fas fa-file-alt mr-2",style:{color:"#046a5b"}},null,-1)),H=s(()=>e("i",{class:"fas fa-users mr-2",style:{color:"#046a5b"}},null,-1)),J=s(()=>e("i",{class:"fa-solid fa-house mr-2",style:{color:"#046a5b"}},null,-1)),K=s(()=>e("i",{class:"fas fa-exchange-alt mr-2",style:{color:"#046a5b"}},null,-1)),W=s(()=>e("i",{class:"fa-regular fa-address-card mr-2",style:{color:"#046a5b"}},null,-1)),X={class:"flex-1 p-4 w-full md:w-1/2"},Y={class:"mt-8 flex flex-wrap space-x-0 space-y-2 md:space-x-4 md:space-y-0"},Z={class:"flex-1 bg-white p-4 shadow rounded-lg md:w-1/2"},ee=s(()=>e("h2",{class:"text-gray-500 text-lg font-semibold pb-1",style:{color:"#046a5b"}}," Users ",-1)),te=s(()=>e("hr",{class:"font-semibold mt-3",style:{"border-color":"#046a5b"}},null,-1)),se={class:"flex items-center justify-center",style:{height:"150px"}},oe={class:"text-center font-bold text-5xl"},ae={class:"flex-1 bg-white p-4 shadow rounded-lg md:w-1/2"},re=s(()=>e("h2",{class:"text-gray-500 text-lg font-semibold pb-1",style:{color:"#046a5b"}}," Available Rooms ",-1)),le=s(()=>e("hr",{class:"font-semibold mt-3",style:{"border-color":"#046a5b"}},null,-1)),ne={class:"flex items-center justify-center",style:{height:"150px"}},de={class:"text-center font-bold text-5xl"},ce={class:"mt-8 bg-white p-4 shadow rounded-lg"},ie=s(()=>e("h2",{class:"text-lg font-semibold pb-4",style:{color:"#046a5b"}}," Recent Guest ",-1)),he=s(()=>e("div",{class:"my-1"},null,-1)),pe=s(()=>e("hr",{class:"font-semibold mb-5 mt-1",style:{"border-color":"#046a5b"}},null,-1)),me={class:"w-full table-auto text-sm"},be=s(()=>e("thead",null,[e("tr",{class:"text-sm leading-normal"},[e("th",{class:"py-2 px-4 font-bold uppercase text-white text-sm border-b"}," ID "),e("th",{class:"py-2 px-4 font-bold uppercase text-white text-sm border-b"}," Name "),e("th",{class:"py-2 px-4 font-bold uppercase text-white text-sm border-b"}," Email "),e("th",{class:"py-2 px-4 font-bold uppercase text-white text-sm border-b"}," Room "),e("th",{class:"py-2 px-4 font-bold uppercase text-white text-sm border-b"}," Date In "),e("th",{class:"py-2 px-4 font-bold uppercase text-white text-sm border-b"}," Date Out ")])],-1)),ue={class:"py-2 px-4 border-b"},_e={class:"py-2 px-4 border-b"},fe={class:"py-2 px-4 border-b"},xe={class:"py-2 px-4 border-b"},ge={class:"py-2 px-4 border-b"},ye=s(()=>e("td",{class:"py-2 px-4 border-b font-bold",style:{color:"#046a5b"}}," PENDING.. ",-1)),we=s(()=>e("div",{class:"text-right mt-4"},[e("button",{class:"bg-green-900 hover:bg-green-900 text-white font-semibold py-2 px-4 rounded"}," View more ")],-1)),ve={class:"mt-8 bg-white p-4 shadow rounded-lg"},Re=s(()=>e("h2",{class:"text-gray-500 text-lg font-semibold pb-4",style:{color:"#046a5b"}}," Admins ",-1)),Ae=s(()=>e("div",{class:"my-1"},null,-1)),De=s(()=>e("hr",{class:"font-semibold mb-5 mt-1",style:{"border-color":"#046a5b"}},null,-1)),ke={class:"w-full table-auto text-sm"},Ne=s(()=>e("thead",null,[e("tr",{class:"text-sm leading-normal text-white"},[e("th",{class:"py-2 px-4 font-bold uppercase text-sm border-b"}," ID "),e("th",{class:"py-2 px-4 font-bold uppercase text-sm border-b"}," Name "),e("th",{class:"py-2 px-4 font-bold uppercase text-sm border-b"}," email "),e("th",{class:"py-2 px-4 font-bold uppercase text-sm border-b"}," Room "),e("th",{class:"py-2 px-4 font-bold uppercase text-sm border-b"}," Date ")])],-1)),Ie={class:"py-2 px-4 border-b"},Se={class:"py-2 px-4 border-b"},Ve={class:"py-2 px-4 border-b"},Be={class:"py-2 px-4 border-b"},$e={class:"py-2 px-4 border-b"},Ee=s(()=>e("div",{class:"text-right mt-4"},[e("button",{class:"bg-green-900 hover:bg-green-900 text-white font-semibold py-2 px-4 rounded"}," View more ")],-1)),Ge={class:"mt-8 bg-white p-4 shadow rounded-lg"},Pe=s(()=>e("h2",{class:"text-gray-500 text-lg font-semibold pb-4",style:{color:"#046a5b"}}," Average Admin Rating ",-1)),je=s(()=>e("div",{class:"my-1"},null,-1)),Le=s(()=>e("hr",{class:"font-semibold mb-5 mt-1",style:{"border-color":"#046a5b"}},null,-1)),Ue={class:"w-full table-auto text-sm"},Ce=s(()=>e("thead",null,[e("tr",{class:"text-sm leading-normal text-white"},[e("th",{class:"py-2 px-4 font-bold uppercase text-sm border-b"}," ID "),e("th",{class:"py-2 px-4 font-bold uppercase text-sm border-b"}," Name "),e("th",{class:"py-2 px-4 font-bold uppercase text-sm border-b"}," Rating ")])],-1)),Fe={class:"py-2 px-4 border-b"},Te={class:"py-2 px-4 border-b"},Me={class:"py-2 px-4 border-b"},Oe=s(()=>e("div",{class:"text-right mt-4"},[e("button",{class:"hover:bg-green-900 text-white font-semibold py-2 px-4 rounded"}," View more ")],-1)),Qe={__name:"Panel",setup(_){const y=i(0),w=i(0),v=i([]),R=i([]),A=i([]),{props:I}=j(),S=I.auth.user,D=i(!1);D.value=S.role_id===3;const V=async()=>{try{const o=await n.get("/api/users");y.value=o.data.length}catch(o){console.error("Error fetching total users:",o)}},B=async()=>{try{const t=(await n.get("/api/rooms")).data.filter(l=>!l.is_occupied);w.value=t.length}catch(o){console.error("error fetching available rooms",o)}},$=async()=>{try{const r=(await n.get("/api/guest_rooms")).data;for(const t of r){const l=await n.get(`/api/users/${t.user_id}`);t.username=l.data.name,t.useremail=l.data.email,t.dateAssigned=l.data.created_at;const f=await n.get(`/api/rooms/${t.room_id}`);t.assignedRooms=f.data.name}v.value=r}catch(o){console.error("error fetching admin details",o)}},E=async()=>{try{const r=(await n.get("/api/admin_rooms")).data;for(const t of r){const l=await n.get(`/api/users/${t.user_id}`);t.username=l.data.name,t.useremail=l.data.email,t.dateAssigned=l.data.created_at;const f=await n.get(`/api/rooms/${t.room_id}`);t.assignedRooms=f.data.name}R.value=r}catch(o){console.error("error fetching admin details",o)}},G=async()=>{try{const r=(await n.get("/api/ratings")).data;for(const t of r){const l=await n.get(`/api/users/${t.rated_user_id}`);t.username=l.data.name}console.log(r),A.value=r}catch(o){console.error("error fetching admin details",o)}},k=o=>{const r=new Date(o),t={hour:"numeric",minute:"numeric",day:"numeric",month:"long",year:"numeric"};return r.toLocaleString(void 0,t)};return L(async()=>{await V(),await B(),await E(),await $(),await G()}),(o,r)=>(d(),N(U,null,{default:c(()=>[e("div",M,[e("div",O,[e("div",Q,[e("nav",null,[u(p(m),{href:o.route("panel"),class:"block text-gray-500 py-2.5 px-4 my-4 rounded hover:bg-green-900 hover:text-white"},{default:c(()=>[q,h("Admin Panel ")]),_:1},8,["href"]),D.value?(d(),N(p(m),{key:0,href:o.route("admins.create"),class:"block text-gray-500 py-2.5 px-4 my-4 rounded hover:bg-green-900 hover:text-white"},{default:c(()=>[z,h("Assign Admin ")]),_:1},8,["href"])):C("",!0),u(p(m),{href:o.route("guest.assignRoom"),class:"block text-gray-500 py-2.5 px-4 my-4 rounded hover:bg-green-900 hover:text-white"},{default:c(()=>[H,h("Assign Guest Room ")]),_:1},8,["href"]),u(p(m),{href:o.route("rooms.create"),class:"block text-gray-500 py-2.5 px-4 my-4 rounded hover:bg-green-900 hover:text-white"},{default:c(()=>[J,h("Add Room ")]),_:1},8,["href"]),u(p(m),{href:o.route("response"),class:"block text-gray-500 py-2.5 px-4 my-4 rounded hover:bg-green-900 hover:text-white"},{default:c(()=>[K,h("Response ")]),_:1},8,["href"]),u(p(m),{href:o.route("register"),class:"block text-gray-500 py-2.5 px-4 my-4 rounded hover:bg-green-900 hover:text-white"},{default:c(()=>[W,h("Register ")]),_:1},8,["href"])])]),e("div",X,[e("div",Y,[e("div",Z,[ee,te,e("div",se,[e("p",oe,a(y.value),1)])]),e("div",ae,[re,le,e("div",ne,[e("p",de,a(w.value),1)])])]),e("div",ce,[ie,he,pe,e("table",me,[be,e("tbody",null,[(d(!0),b(g,null,x(v.value,t=>(d(),b("tr",{key:t.id},[e("td",ue,a(t.id),1),e("td",_e,a(t.username),1),e("td",fe,a(t.useremail),1),e("td",xe,a(t.assignedRooms),1),e("td",ge,a(k(t.dateAssigned)),1),ye]))),128))])]),we]),e("div",ve,[Re,Ae,De,e("table",ke,[Ne,e("tbody",null,[(d(!0),b(g,null,x(R.value,t=>(d(),b("tr",{key:t.id},[e("td",Ie,a(t.id),1),e("td",Se,a(t.username),1),e("td",Ve,a(t.useremail),1),e("td",Be,a(t.assignedRooms),1),e("td",$e,a(k(t.dateAssigned)),1)]))),128))])]),Ee]),e("div",Ge,[Pe,je,Le,e("table",Ue,[Ce,e("tbody",null,[(d(!0),b(g,null,x(A.value,t=>(d(),b("tr",{key:t.id},[e("td",Fe,a(t.id),1),e("td",Te,a(t.username),1),e("td",Me,a(t.rating),1)]))),128))])]),Oe])])])])]),_:1}))}},ze=P(Qe,[["__scopeId","data-v-dbc4f38a"]]);export{ze as default};
